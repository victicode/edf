import{a2 as n,a3 as o}from"./index-BSBF4jGH.js";const d=n("Pay",{actions:{async getPaysByUser(t={}){return await new Promise((r,a)=>{if(!o.getToken())throw"";o.setHeader();const e=this.formatFiltersQuery(t),c=e.toString()?`/api/pays?${e.toString()}`:"/api/pays";o.get(c).then(({data:i})=>{if(i.code!=200)throw i;r(i)}).catch(({response:i})=>{console.log(i),a(i.data.error)})})},async createPay(t){return await new Promise((r,a)=>{if(!o.getToken())throw"";o.setHeader(),o.post("/api/pays",t).then(({data:e})=>{if(e.code!=200)throw e;r(e)}).catch(({response:e})=>{console.log(e),e.data.code==403&&a(e.data),a(e.data.error)})})},async getPayById(t){return await new Promise((r,a)=>{if(!o.getToken())throw"";o.setHeader(),o.get("/api/pays/byId/"+t).then(({data:e})=>{if(e.code!=200)throw e;r(e)}).catch(({response:e})=>{console.log(e),a(e.data.error)})})},async updatePay(t){return await new Promise((r,a)=>{if(!o.getToken())throw"";o.setHeader(),o.put("/api/pays/"+t.id,t).then(({data:e})=>{if(e.code!=200)throw e;r(e)}).catch(({response:e})=>{console.log(e),e.data.code==403&&a(e.data),a(e.data.error)})})},async getAvailablePayInDayByArea(t){return await new Promise((r,a)=>{if(!o.getToken())throw"";o.setHeader(),o.get("/api/pays/availableBooking/"+t.idArea+"?date="+t.date+"&").then(({data:e})=>{if(e.code!=200)throw e;r(e)}).catch(({response:e})=>{console.log(e),a(e.data.error)})})},async deletePay(t){return await new Promise((r,a)=>{if(!o.getToken())throw"";o.setHeader(),o.delete("/api/pays/"+t).then(({data:e})=>{if(e.code!=200)throw e;r(e)}).catch(({response:e})=>{console.log(e),a(e.data.error)})})},async updateStatus(t){return await new Promise((r,a)=>{if(!o.getToken())throw"";o.setHeader(),o.post("/api/pays/updateStatus/"+t.id,t.data).then(({data:e})=>{if(e.code!=200)throw e;r(e)}).catch(({response:e})=>{console.log(e),e.data.code==403&&a(e.data),a(e.data.error)})})},formatFiltersQuery(t){const r=new URLSearchParams;return Object.keys(t).forEach(a=>{t[a]!==null&&t[a]!==""&&t[a]!==void 0&&r.append(a,t[a])}),r}}});export{d as u};
