import{Q as i}from"./QInput-CCszA-Cu.js";import{r as p,G as B,e as u,f as o,g as s,w as a,O as N,q as P,N as D,o as m,T as y,i as v,v as V,B as _,x as c,H as S,P as j}from"./index-BSBF4jGH.js";import{Q as k}from"./QTime-6RwcKHVB.js";import{Q as w}from"./QPopupProxy-C_r6gXi9.js";import{Q as F}from"./QForm-n8jT9PtN.js";import{C as g}from"./ClosePopup-CTuEMMh8.js";import{u as I}from"./comunArea.store-BuWp1D4-.js";import"./use-key-composition-Z-2-MGMt.js";import"./use-id-BKlrVpl6.js";import"./TouchPan-DZJlNQpP.js";import"./position-engine-DU4jhfDu.js";import"./format-CoaQEihs.js";import"./QMenu-DSB_uF9S.js";const q={class:"md:px-20 md:mx-16 px-2 h-full",style:{overflow:"hidden"}},z={key:0,class:"w-full h-full"},H={key:0,class:"row w-full"},E={class:"col-md-6 col-12 mt-1 px-2 md:px-12"},M={class:"col-md-6 col-12 mt-1 px-2 md:px-12"},$={class:"col-md-6 col-12 mt-1 px-2 md:px-12"},G={class:"col-md-6 col-12 mt-2 px-2 md:px-12"},L={class:"col-md-6 col-12 mt-2 px-2 md:px-12"},O={key:0,class:"row w-full"},J={class:"col-md-6 col-12 row mt-1 px-2 md:px-12"},K={class:"col-12"},W={class:"col-12 mt-6"},X={class:"row w-full mt-4"},Y={class:"col-6 pr-2 md:pr-4"},Z={class:"row items-center justify-end"},h={class:"col-6 pl-2 md:pl-4"},ee={class:"row items-center justify-end"},le={class:"col-md-6 col-12 mt-1 px-2 md:px-12"},te={class:"w-full mb-2 px-2 md:px-12 flex justify-center mt-10"},oe={key:1,class:"h-4/6 flex flex-center"},ye={__name:"updateComunArea",setup(se){const x=I(),A=P(),C=N(),t=p({}),n=p(!1),d=p(0),f=p(!1),Q=()=>{d.value--},R=()=>{if(d.value==1){U();return}d.value++},U=()=>{n.value=!0,t.value.warrantyPrice=t.value.warranty_price,t.value.maxTime=t.value.max_time_reserve,x.updateComunArea(t.value).then(r=>{if(r.code!==200)throw r;b("positive","Area común actualizada con exito"),setTimeout(()=>{n.value=!1,A.go(-1)},1e3)}).catch(r=>{n.value=!1,b("negative",r)})},b=(r,e)=>{D.create({color:r,message:e,timeout:2e3})},T=()=>{x.getComunAreaById(C.params.id).then(r=>{t.value=r.data,setTimeout(()=>{f.value=!0},500)})};return B(()=>{T()}),(r,e)=>(m(),u("div",q,[e[25]||(e[25]=o("div",{class:"text-center text-black text-h5 text-bold md:mt-4 mt-8 md:mb-8 mb-4"}," Datos del area común ",-1)),s(F,{onSubmit:e[12]||(e[12]=l=>R()),class:"h-full"},{default:a(()=>[f.value?(m(),u("div",z,[s(y,{name:"horizontal"},{default:a(()=>[d.value==0?(m(),u("div",H,[o("div",E,[e[13]||(e[13]=o("div",{class:"text-subtitle2 text-black"}," Nombre del area ",-1)),s(i,{dense:"",borderless:"",clearable:"",modelValue:t.value.name,"onUpdate:modelValue":e[0]||(e[0]=l=>t.value.name=l),class:"form__inputsR mt-1",color:"primary",rules:[l=>l&&l.length>0||"Nombre de area es requerido"]},null,8,["modelValue","rules"])]),o("div",M,[e[14]||(e[14]=o("div",{class:"text-subtitle2 text-black"}," Aforo ",-1)),s(i,{dense:"",borderless:"",clearable:"",modelValue:t.value.capacity,"onUpdate:modelValue":e[1]||(e[1]=l=>t.value.capacity=l),class:"form__inputsR mt-1",color:"primary",rules:[l=>!!l||"El aforo es requerido"]},null,8,["modelValue","rules"])]),o("div",$,[e[15]||(e[15]=o("div",{class:"text-subtitle2 text-black"}," Precio por reserva ",-1)),s(i,{dense:"",borderless:"",clearable:"",modelValue:t.value.price,"onUpdate:modelValue":e[2]||(e[2]=l=>t.value.price=l),class:"form__inputsR mt-1",color:"primary",hint:"Dejar en 0 si no requiere reserva"},null,8,["modelValue"])]),o("div",G,[e[16]||(e[16]=o("div",{class:"text-subtitle2 text-black"}," Precio de garantia ",-1)),s(i,{dense:"",borderless:"",clearable:"",modelValue:t.value.warranty_price,"onUpdate:modelValue":e[3]||(e[3]=l=>t.value.warranty_price=l),class:"form__inputsR mt-1",color:"primary",hint:"Dejar en 0 si no aplica garantia"},null,8,["modelValue"])]),o("div",L,[e[17]||(e[17]=o("div",{class:"text-subtitle2 text-black"}," Descripción ",-1)),s(i,{borderless:"",clearable:"",modelValue:t.value.description,"onUpdate:modelValue":e[4]||(e[4]=l=>t.value.description=l),class:"form__inputsR mt-1",color:"primary"},null,8,["modelValue"])])])):v("",!0)]),_:1}),s(y,{name:"horizontal"},{default:a(()=>[d.value==1?(m(),u("div",O,[o("div",J,[o("div",K,[e[18]||(e[18]=o("div",{class:"text-subtitle2 text-black"}," Maximo de horas de reserva ",-1)),s(i,{dense:"",borderless:"",clearable:"",modelValue:t.value.max_time_reserve,"onUpdate:modelValue":e[5]||(e[5]=l=>t.value.max_time_reserve=l),class:"form__inputsR mt-1",autofocus:"",color:"primary",rules:[l=>!!l||"Las horas maxima de reserva es necesaria"]},null,8,["modelValue","rules"])]),o("div",W,[e[21]||(e[21]=o("div",{class:"text-subtitle2 text-black"}," Horas disponibles: ",-1)),o("div",X,[o("div",Y,[e[19]||(e[19]=o("div",{class:"text-body2 text-black",style:{"font-weight":"medium"}}," Desde: ",-1)),s(i,{modelValue:t.value.timeFrom,"onUpdate:modelValue":e[7]||(e[7]=l=>t.value.timeFrom=l),mask:"time",dense:"",borderless:"",clearable:"",class:"form__inputsR mt-1",color:"primary"},{append:a(()=>[s(V,{name:"eva-clock-outline",class:"cursor-pointer"},{default:a(()=>[s(w,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[s(k,{modelValue:t.value.timeFrom,"onUpdate:modelValue":e[6]||(e[6]=l=>t.value.timeFrom=l)},{default:a(()=>[o("div",Z,[_(s(c,{label:"Aceptar",color:"primary",flat:""},null,512),[[g]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),o("div",h,[e[20]||(e[20]=o("div",{class:"text-body2 text-black",style:{"font-weight":"medium"}}," Hasta: ",-1)),s(i,{modelValue:t.value.timeTo,"onUpdate:modelValue":e[9]||(e[9]=l=>t.value.timeTo=l),mask:"time",dense:"",borderless:"",clearable:"",class:"form__inputsR mt-1",color:"primary"},{append:a(()=>[s(V,{name:"eva-clock-outline",class:"cursor-pointer"},{default:a(()=>[s(w,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[s(k,{modelValue:t.value.timeTo,"onUpdate:modelValue":e[8]||(e[8]=l=>t.value.timeTo=l)},{default:a(()=>[o("div",ee,[_(s(c,{label:"Aceptar",color:"primary",flat:""},null,512),[[g]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])])])]),o("div",le,[e[22]||(e[22]=o("div",{class:"text-subtitle2 text-black"}," Normas ",-1)),s(i,{dense:"",borderless:"",clearable:"",type:"textarea",modelValue:t.value.rules,"onUpdate:modelValue":e[10]||(e[10]=l=>t.value.rules=l),class:"form__inputsR mt-1",color:"primary",rules:[l=>l&&l.length>0||"Indica las reglas"]},null,8,["modelValue","rules"])])])):v("",!0)]),_:1}),o("div",te,[d.value==1?(m(),S(c,{key:0,color:"grey-7",style:{"border-radius":"0.5rem"},onClick:e[11]||(e[11]=l=>Q()),class:"me-7"},{default:a(()=>[...e[23]||(e[23]=[o("div",{class:"md:px-10 px-5 py-1"}," Volver ",-1)])]),_:1})):v("",!0),s(c,{color:"primary ",style:{"border-radius":"0.5rem"},type:"submit",loading:n.value},{default:a(()=>[...e[24]||(e[24]=[o("div",{class:"md:px-10 px-10 py-1"}," Siguiente ",-1)])]),_:1},8,["loading"])])])):(m(),u("div",oe,[s(j,{color:"primary",size:"10rem",thickness:5})]))]),_:1})]))}};export{ye as default};
