import{a2 as s,a3 as o}from"./index-BSBF4jGH.js";const g=s("Reserve",{actions:{async getReservesByUser(t){return await new Promise((r,a)=>{if(!o.getToken())throw"";o.setHeader();const e=this.filterQuery(t),i="/api/bookings"+(e?`?${e}`:"");o.get(i).then(({data:n})=>{if(n.code!=200)throw n;r(n)}).catch(({response:n})=>{console.log(n),a(n.data.error)})})},async createReserve(t){return await new Promise((r,a)=>{if(!o.getToken())throw"";o.setHeader(),o.post("/api/bookings",t).then(({data:e})=>{if(e.code!=200)throw e;r(e)}).catch(({response:e})=>{console.log(e),e.data.code==403&&a(e.data),a(e.data.error)})})},async createReservePay(t){return await new Promise((r,a)=>{if(!o.getToken())throw"";o.setHeader(),o.post("/api/pays/bookings",t.data).then(({data:e})=>{if(e.code!=200)throw e;r(e)}).catch(({response:e})=>{console.log(e),a(e.data.error)})})},async getReserveById(t){return await new Promise((r,a)=>{if(!o.getToken())throw"";o.setHeader(),o.get("/api/bookings/byId/"+t).then(({data:e})=>{if(e.code!=200)throw e;r(e)}).catch(({response:e})=>{console.log(e),a(e.data.error)})})},async getReservesByArea(t){return await new Promise((r,a)=>{if(!o.getToken())throw"";o.setHeader(),o.get("/api/bookings/byArea/"+t).then(({data:e})=>{if(e.code!=200)throw e;r(e)}).catch(({response:e})=>{console.log(e),a(e.data.error)})})},async updateReserve(t){return await new Promise((r,a)=>{if(!o.getToken())throw"";o.setHeader(),o.put("/api/bookings/"+t.id,t).then(({data:e})=>{if(e.code!=200)throw e;r(e)}).catch(({response:e})=>{console.log(e),e.data.code==403&&a(e.data),a(e.data.error)})})},async getAvailableReserveInDayByArea(t){return await new Promise((r,a)=>{if(!o.getToken())throw"";o.setHeader(),o.get("/api/bookings/availableBooking/"+t.idArea+"?date="+t.date+"&").then(({data:e})=>{if(e.code!=200)throw e;r(e)}).catch(({response:e})=>{console.log(e),a(e.data.error)})})},async deleteReserve(t){return await new Promise((r,a)=>{if(!o.getToken())throw"";o.setHeader(),o.delete("/api/bookings/"+t).then(({data:e})=>{if(e.code!=200)throw e;r(e)}).catch(({response:e})=>{console.log(e),a(e.data.error)})})},async cancelReserve(t){return await new Promise((r,a)=>{if(!o.getToken())throw"";o.setHeader(),o.post("/api/bookings/cancel/"+t).then(({data:e})=>{if(e.code!=200)throw e;r(e)}).catch(({response:e})=>{console.log(e),a(e.data.error)})})},async getPendingReserve(){return await new Promise((t,r)=>{if(!o.getToken())throw"";o.setHeader(),o.get("/api/bookings/pendings").then(({data:a})=>{if(a.code!=200)throw a;t(a)}).catch(({response:a})=>{console.log(a),r(a.data.error)})})},filterQuery(t){try{const r=new URLSearchParams;return!t||typeof t!="object"?"":(t.status!==void 0&&Number(t.status)!==4&&r.set("status",String(t.status)),t.area_id&&r.set("area_id",String(t.area_id)),t.date_from&&r.set("date_from",String(t.date_from)),t.date_to&&r.set("date_to",String(t.date_to)),t.amount_type&&r.set("amount_type",String(t.amount_type)),t.sort_by&&r.set("sort_by",String(t.sort_by)),t.sort_dir&&r.set("sort_dir",String(t.sort_dir)),r.toString())}catch{return""}}}});export{g as u};
