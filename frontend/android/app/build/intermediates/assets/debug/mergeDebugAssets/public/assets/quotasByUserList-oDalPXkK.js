import{Q as f}from"./QSpinnerDots-C4tArpGa.js";import{_ as g,r as i,G as b,e as a,f as e,g as m,F as k,j as w,l as _,D as M,q as V,o as n,A as j,i as S,t as r,I as C,n as B,v as N}from"./index-BSBF4jGH.js";import{u as D}from"./quota.store-C4_rH8y9.js";import{h as l}from"./moment-BLMuvzoS.js";const L={class:"h-full",style:{overflow:"hidden"}},Q={class:"h-full",style:{overflow:"auto"}},z={key:0,class:"flex justify-center items-center py-20"},A={key:1,class:"px-4 py-6 md:px-28"},H={key:0,class:"space-y-5 md:px-5"},T={class:"px-4 pb-2 pt-2 md:pt-4"},F={class:"flex justify-between items-start mb-0 pb-1",style:{"border-bottom":"1px dashed #111827"}},G={class:"flex-1"},R={class:"text-lg font-bold text-gray-900 mb-1"},Y={key:0,class:"absolute top-2 right-2 bg-primary text-white text-xs font-bold px-2 py-1 rounded-md"},$={class:"space-y-2 pt-3"},I={class:"row items-center"},O={class:"flex items-center text-sm text-gray-700 col-4 col-md-2"},U={style:{transform:"translateX(-3px)"},width:"23px",height:"23px",viewBox:"0 0 64 64",xmlns:"http://www.w3.org/2000/svg","stroke-width":"2",stroke:"#374151",fill:"none"},E={class:"font-medium"},J={class:"flex items-center text-sm text-gray-700 pl-2 md:pl-0 col-4 col-md-2"},Z={class:"font-medium"},X={class:"flex items-center text-sm text-gray-700 col-12 pt-2 md:pt-0 col-md-2"},K={class:"font-medium"},P=["onClick"],W={class:"flex justify-center items-center"},q={class:"flex items-center"},ee={class:"ml-1 text-sm font-medium text-white"},te={key:1,class:"flex flex-col items-center justify-center py-20"},se={class:"w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center mb-6"},oe=["innerHTML"],ae={__name:"quotasByUserList",setup(ne){l.locale("es",{monthsShort:"Ene_Feb_Mar_Abr_May_Jun_Jul_Ago_Sep_Oct_Nov_Dic".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_")});const d=i([]),c=i(!0),p=D(),u=V();i(!1),i({status:4,quota_method:"",type:"",date_from:"",date_to:"",sort_by:"created_at",sort_dir:"desc"});const y=()=>{c.value=!0,p.getQuotasByUser().then(t=>{if(t.code!==200)throw t;d.value=t.data}).catch(t=>{console.log(t)}).finally(()=>{c.value=!1})},x=t=>{let s=t.status==1?"pay":"view";u.push(`/client/quota/${s}/${t.id}`)},h=t=>t.type===1?"Mensualidad: "+t.month_label:"Cuota especial",v=t=>t?l(t).format("DD MMM YYYY"):"";return b(()=>{y()}),(t,s)=>(n(),a("div",L,[e("div",Q,[c.value?(n(),a("div",z,[m(f,{color:"primary",size:"7rem"})])):(n(),a("div",A,[d.value.length>0?(n(),a("div",H,[(n(!0),a(k,null,w(d.value,o=>(n(),a("div",{key:o.id,class:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden md:mb-5",style:{position:"relative"}},[e("div",T,[e("div",F,[e("div",G,[e("h3",R,[j(r(h(o))+" ",1),o.created_at&&_(l)(o.created_at).isAfter(_(l)().subtract(7,"days"))?(n(),a("span",Y," Nuevo ")):S("",!0)])])]),e("div",$,[e("div",I,[e("div",O,[(n(),a("svg",U,[...s[0]||(s[0]=[C('<g id="SVGRepo_bgCarrier" stroke-width="0" data-v-19421e44></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" data-v-19421e44></g><g id="SVGRepo_iconCarrier" data-v-19421e44><path d="M34.82,52.73H14.69V22.18a1,1,0,0,1,.52-.87L33.34,11.4a1,1,0,0,1,1.48.88Z" stroke-linecap="round" data-v-19421e44></path><path d="M48.87,52.73H34.92V21.59L48.4,29.3a1,1,0,0,1,.47.85Z" stroke-linecap="round" data-v-19421e44></path><line x1="28.1" y1="24.86" x2="21.06" y2="24.86" stroke-linecap="round" data-v-19421e44></line><line x1="43.66" y1="32.41" x2="40.14" y2="32.41" stroke-linecap="round" data-v-19421e44></line><line x1="43.66" y1="36.9" x2="40.14" y2="36.9" stroke-linecap="round" data-v-19421e44></line><line x1="43.66" y1="41.71" x2="40.14" y2="41.71" stroke-linecap="round" data-v-19421e44></line><line x1="43.66" y1="46.19" x2="40.14" y2="46.19" stroke-linecap="round" data-v-19421e44></line><line x1="28.1" y1="30.44" x2="21.06" y2="30.44" stroke-linecap="round" data-v-19421e44></line><line x1="28.1" y1="35.94" x2="21.06" y2="35.94" stroke-linecap="round" data-v-19421e44></line><line x1="28.1" y1="41.44" x2="21.06" y2="41.44" stroke-linecap="round" data-v-19421e44></line><line x1="28.1" y1="46.94" x2="21.06" y2="46.94" stroke-linecap="round" data-v-19421e44></line><line x1="9.46" y1="52.73" x2="54.54" y2="52.73" stroke-linecap="round" data-v-19421e44></line></g>',3)])])),e("span",E,r(o.departament.number),1)]),e("div",J,[s[1]||(s[1]=e("svg",{class:"w-4 h-4 mr-1 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",Z,"S/. "+r(o.amount),1)]),e("div",X,[s[2]||(s[2]=e("svg",{class:"w-4 h-4 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),e("span",K,"Fecha limite: "+r(v(o.due_date)),1)])])])]),e("div",{class:B(["px-4 py-2 md:py-3 bg-gray-50 border-t",`bg-${o.status_color}`]),onClick:re=>x(o)},[e("div",W,[e("div",q,[m(N,{name:o.status_icon,color:"white",size:"1.5rem"},null,8,["name"]),e("span",ee,r(o.status_label),1)])])],10,P)]))),128))])):(n(),a("div",te,[e("div",se,[e("div",{innerHTML:_(M).mensuality},null,8,oe)]),s[3]||(s[3]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"No tienes cuotas",-1)),s[4]||(s[4]=e("p",{class:"text-gray-600 text-center mb-6"},"AÃºn no se ha emitido tu primera cuota.",-1))]))]))])]))}},_e=g(ae,[["__scopeId","data-v-19421e44"]]);export{_e as default};
