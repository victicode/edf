import{b as C,c as K,K as de,ak as ue,bh as X,U as Z,h as M,x as V,v as ee,Y as te,aq as ce,ar as me,r as q,at as pe,d as _e,aH as ve,C as J,m as G,q as oe,e as S,o as p,F as le,j as ae,f as t,t as $,i as L,l as b,g as s,w as c,D as F,B as O,H as B,A as w,E,n as be,G as fe,y as ye,Q as ge}from"./index-BSBF4jGH.js";import{u as xe}from"./use-id-BKlrVpl6.js";import{Q as T,a as D}from"./QItem-D2c8Co2M.js";import{Q as N}from"./QSeparator-BBtHUKtx.js";import{Q as se}from"./QList-DPQjt_4m.js";import{Q as ie}from"./QMenu-DSB_uF9S.js";import{C as z}from"./ClosePopup-CTuEMMh8.js";import{h as H}from"./moment-BLMuvzoS.js";import{Q as U}from"./QSelect-CSskTD8W.js";import{Q as W}from"./QInput-CCszA-Cu.js";import{u as he}from"./notice.store-DyU3Koa3.js";import{R as Se,a as j}from"./index-DJ-hPCxW.js";const ke=["top","right","bottom","left"],Y={type:{type:String,default:"a"},outline:Boolean,push:Boolean,flat:Boolean,unelevated:Boolean,color:String,textColor:String,glossy:Boolean,square:Boolean,padding:String,label:{type:[String,Number],default:""},labelPosition:{type:String,default:"right",validator:e=>ke.includes(e)},externalLabel:Boolean,hideLabel:{type:Boolean},labelClass:[Array,String,Object],labelStyle:[Array,String,Object],disable:Boolean,tabindex:[Number,String]};function ne(e,d){return{formClass:C(()=>`q-fab--form-${e.square===!0?"square":"rounded"}`),stacked:C(()=>e.externalLabel===!1&&["top","bottom"].includes(e.labelPosition)),labelProps:C(()=>{if(e.externalLabel===!0){const k=e.hideLabel===null?d.value===!1:e.hideLabel;return{action:"push",data:{class:[e.labelClass,`q-fab__label q-tooltip--style q-fab__label--external q-fab__label--external-${e.labelPosition}`+(k===!0?" q-fab__label--external-hidden":"")],style:e.labelStyle}}}return{action:["left","top"].includes(e.labelPosition)?"unshift":"push",data:{class:[e.labelClass,`q-fab__label q-fab__label--internal q-fab__label--internal-${e.labelPosition}`+(e.hideLabel===!0?" q-fab__label--internal-hidden":"")],style:e.labelStyle}}})}}const re={start:"self-end",center:"self-center",end:"self-start"},$e=Object.keys(re),At=K({name:"QFabAction",props:{...Y,icon:{type:String,default:""},anchor:{type:String,validator:e=>$e.includes(e)},to:[String,Object],replace:Boolean},emits:["click"],setup(e,{slots:d,emit:k}){const i=de(X,()=>({showing:{value:!0},onChildClick:ue})),{formClass:g,labelProps:_}=ne(e,i.showing),f=C(()=>{const l=re[e.anchor];return g.value+(l!==void 0?` ${l}`:"")}),x=C(()=>e.disable===!0||i.showing.value!==!0);function n(l){i.onChildClick(l),k("click",l)}function u(){const l=[];return d.icon!==void 0?l.push(d.icon()):e.icon!==""&&l.push(M(ee,{name:e.icon})),(e.label!==""||d.label!==void 0)&&l[_.value.action](M("div",_.value.data,d.label!==void 0?d.label():[e.label])),te(d.default,l)}const m=Z();return Object.assign(m.proxy,{click:n}),()=>M(V,{class:f.value,...e,noWrap:!0,stack:e.stacked,icon:void 0,label:void 0,noCaps:!0,fabMini:!0,disable:x.value,onClick:n},u)}}),Ce=["up","right","down","left"],Me=["left","center","right"],Qt=K({name:"QFab",props:{...Y,...me,icon:String,activeIcon:String,hideIcon:Boolean,hideLabel:{...Y.hideLabel,default:null},direction:{type:String,default:"right",validator:e=>Ce.includes(e)},persistent:Boolean,verticalActionsAlign:{type:String,default:"center",validator:e=>Me.includes(e)}},emits:ce,setup(e,{slots:d}){const k=q(null),i=q(e.modelValue===!0),g=xe(),{proxy:{$q:_}}=Z(),{formClass:f,labelProps:x}=ne(e,i),n=C(()=>e.persistent!==!0),{hide:u,toggle:m}=pe({showing:i,hideOnRouteChange:n}),l=C(()=>({opened:i.value})),r=C(()=>`q-fab z-fab row inline justify-center q-fab--align-${e.verticalActionsAlign} ${f.value}`+(i.value===!0?" q-fab--opened":" q-fab--closed")),a=C(()=>`q-fab__actions flex no-wrap inline q-fab__actions--${e.direction} q-fab__actions--${i.value===!0?"opened":"closed"}`),I=C(()=>{const v={id:g.value,role:"menu"};return i.value!==!0&&(v["aria-hidden"]="true"),v}),R=C(()=>`q-fab__icon-holder  q-fab__icon-holder--${i.value===!0?"opened":"closed"}`);function A(v,P){const h=d[v],o=`q-fab__${v} absolute-full`;return h===void 0?M(ee,{class:o,name:e[P]||_.iconSet.fab[P]}):M("div",{class:o},h(l.value))}function Q(){const v=[];return e.hideIcon!==!0&&v.push(M("div",{class:R.value},[A("icon","icon"),A("active-icon","activeIcon")])),(e.label!==""||d.label!==void 0)&&v[x.value.action](M("div",x.value.data,d.label!==void 0?d.label(l.value):[e.label])),te(d.tooltip,v)}return ve(X,{showing:i,onChildClick(v){var P;u(v),(v==null?void 0:v.qAvoidFocus)!==!0&&((P=k.value)==null||P.$el.focus())}}),()=>M("div",{class:r.value},[M(V,{ref:k,class:f.value,...e,noWrap:!0,stack:e.stacked,align:void 0,icon:void 0,label:void 0,noCaps:!0,fab:!0,"aria-expanded":i.value===!0?"true":"false","aria-haspopup":"true","aria-controls":g.value,onClick:m},Q),M("div",{class:a.value,...I.value},_e(d.default))])}}),qe={key:0,class:"space-y-5 md:px-5"},Pe=["onClick"],we={class:"notice__item--title"},Ve={class:"notice__item--description text-stone-400 my-1"},Le={class:"notice__item-bottom pl-4 flex items-center justify-between pr-3 py-2"},Be=["onClick"],Ae={class:"notice__item-bottom--dayPost"},Qe={key:0},je=["innerHTML"],Fe={key:1,class:"flex flex-col items-center justify-center py-20"},Oe={class:"w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center mb-6"},Te=["innerHTML"],jt={__name:"noticesList",props:{notices:{type:Array,default:[]}},emits:["openModal"],setup(e,{emit:d}){H.locale("es",{monthsShort:"Ene_Feb_Mar_Abr_May_Jun_Jul_Ago_Sep_Oct_Nov_Dic".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_")});const k=d,{user:i}=J(G()),g=oe(),_=(x,n)=>{k("openModal",x,n)},f=x=>{g.push(`/client/notice/view/${x}`)};return(x,n)=>e.notices.length>0?(p(),S("div",qe,[(p(!0),S(le,null,ae(e.notices,u=>(p(),S("div",{class:"notice__item",key:u.id},[t("div",{class:"py-1 pl-4 pr-3",onClick:m=>f(u.id)},[n[0]||(n[0]=t("div",{class:"notices-badge px-3"}," Nuevo ",-1)),t("div",null,[t("div",we,$(u.title),1),t("div",Ve,$(u.description.substring(0,94))+"... ",1)])],8,Pe),t("div",Le,[t("div",{class:"notice__item-bottom--postBy",onClick:m=>f(u.id)}," Publicado por: "+$("Admin"),8,Be),t("div",Ae,$(b(H)(u.created_at).format("DD MMM YYYY")),1),b(i).id==u.user_id?(p(),S("div",Qe,[s(V,{size:"xs",round:"",color:"primary",flat:""},{default:c(()=>[t("div",{innerHTML:b(F).optionsBook},null,8,je),s(ie,null,{default:c(()=>[s(se,{style:{"min-width":"150px"}},{default:c(()=>[O((p(),B(T,{clickable:"",onClick:m=>_(u.id,"update")},{default:c(()=>[s(D,null,{default:c(()=>[...n[1]||(n[1]=[w("Editar noticia",-1)])]),_:1})]),_:1},8,["onClick"])),[[z]]),s(N),O((p(),B(T,{clickable:"",onClick:m=>_(u.id,"delete")},{default:c(()=>[s(D,{class:"text-negative"},{default:c(()=>[...n[2]||(n[2]=[w("Borrar noticia",-1)])]),_:1})]),_:1},8,["onClick"])),[[z]]),s(N)]),_:2},1024)]),_:2},1024)]),_:2},1024)])):L("",!0)])]))),128))])):(p(),S("div",Fe,[t("div",Oe,[t("div",{innerHTML:b(F).megaphone},null,8,Te)]),n[3]||(n[3]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"No hay anuncios que mostrar",-1)),n[4]||(n[4]=t("p",{class:"text-gray-600 text-center mb-6"},"En breve te traemos más informacion.",-1))]))}},De={key:0,class:"space-y-5 md:px-5"},Ne=["onClick"],ze={class:"notice__item--title"},He={class:"text-grey-6 mb-1",style:{"font-size":"0.65rem"}},Ie={class:"notice__item--description text-stone-400 my-1"},Re={class:"notice__item-bottom pl-4 pr-3 py-2"},Ue={class:"flex items-center justify-between"},Ee=["onClick"],Ye={class:"notice__item-bottom--dayPost flex items-center justify-between"},Je={class:"mr-2"},Ge={key:0},We=["innerHTML"],Ke={key:1,class:"flex flex-col items-center justify-center py-20"},Xe={class:"w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center mb-6"},Ze=["innerHTML"],Ft={__name:"announcesList",props:{announces:{type:Array,default:[]},myPost:Boolean},emits:["openModal"],setup(e,{emit:d}){H.locale("es",{monthsShort:"Ene_Feb_Mar_Abr_May_Jun_Jul_Ago_Sep_Oct_Nov_Dic".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_")});const k=d,i=e,g=q(i.myPost),{user:_}=J(G()),f=oe(),x=m=>{let{name:l}=JSON.parse(m);return l},n=(m,l)=>{k("openModal",m,l)},u=m=>{f.push(`/client/notice/view/${m}`)};return E(()=>i.myPost,m=>{g.value=m}),(m,l)=>e.announces.length>0?(p(),S("div",De,[(p(!0),S(le,null,ae(e.announces,r=>(p(),S("div",{class:"notice__item",key:r.id},[t("div",{class:"py-1 pl-4 pr-3",onClick:a=>u(r.id)},[l[0]||(l[0]=t("div",{class:"notices-badge px-3"}," Nuevo ",-1)),r.user_id==b(_).id&&g.value||r.status!==2&&b(_).id==1?(p(),S("div",{key:0,class:be(["notices-badgeStatus px-3","bg-"+r.status_color])},$(r.status_label),3)):L("",!0),t("div",null,[t("div",ze,$(r.title),1),t("div",He,$(r.group_label)+" > "+$(r.category_label),1),t("div",Ie,$(r.description.substring(0,94))+"... ",1)])],8,Ne),t("div",Re,[t("div",Ue,[t("div",{class:"notice__item-bottom--postBy pt-1",onClick:a=>u(r.id)}," Publicado por: "+$(x(r.data_contact)),9,Ee),t("div",Ye,[t("div",Je,$(b(H)(r.created_at).format("DD MMM YYYY")),1),b(_).id==r.user_id?(p(),S("div",Ge,[s(V,{size:"xs",round:"",color:"primary",flat:""},{default:c(()=>[t("div",{innerHTML:b(F).optionsBook},null,8,We),s(ie,null,{default:c(()=>[s(se,{style:{"min-width":"150px"}},{default:c(()=>[O((p(),B(T,{clickable:"",onClick:a=>n(r.id,"update")},{default:c(()=>[s(D,null,{default:c(()=>[...l[1]||(l[1]=[w("Editar anuncio",-1)])]),_:1})]),_:1},8,["onClick"])),[[z]]),s(N),O((p(),B(T,{clickable:"",onClick:a=>n(r.id,"delete")},{default:c(()=>[s(D,{class:"text-negative"},{default:c(()=>[...l[2]||(l[2]=[w("Borrar anuncio",-1)])]),_:1})]),_:1},8,["onClick"])),[[z]]),s(N)]),_:2},1024)]),_:2},1024)]),_:2},1024)])):L("",!0)])])])]))),128))])):(p(),S("div",Ke,[t("div",Xe,[t("div",{innerHTML:b(F).megaphone},null,8,Ze)]),l[3]||(l[3]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"No hay anuncios que mostrar",-1)),l[4]||(l[4]=t("p",{class:"text-gray-600 text-center mb-6"},"En breve te traemos más informacion.",-1))]))}},et={class:"header-sectionModal",style:{"border-bottom":"1px solid lightgray"}},tt={class:"flex justify-between items-center pr-5 pl-2 py-2"},ot={class:"content-sectionModal"},lt={key:0,class:"content__modalSectionRifa md:mt-0 mt-0 py-2"},at={class:"row pt-3 pb-2 md:px-5 px-3"},st={class:"col-12"},it={class:"col-12 my-2"},nt={class:"col-12 my-2"},rt={class:"col-12 my-2"},dt={class:"col-12 my-2"},ut={class:"row py-4 md:px-5 px-3 pb-5",style:{"border-top":"1px solid lightgray"}},ct={class:"col-12"},mt={class:"row py-4 md:px-5 px-3 pb-5",style:{"border-top":"1px solid lightgray"}},pt={class:"col-12"},_t={key:0,class:"row py-4 md:px-5 px-3 pb-5",style:{"border-top":"1px solid lightgray"}},vt={class:"col-12 px-1"},bt={class:"row py-4 md:px-5 px-3 pb-5",style:{"border-top":"1px solid lightgray"}},ft={class:"col-6 pr-1"},yt={class:"col-6 pl-1"},gt={class:"pb-5 mt-5"},xt={class:"flex justify-evenly mt-2"},Ot={__name:"filterAnnouncesList",props:{dialog:Boolean,typeSearch:String,isOnlyMyPost:{type:String,required:!1}},emits:["closeModal","updateList"],setup(e,{emit:d}){const{user:k}=J(G()),i=e,g=d,_=q(i.typeSearch),f=he(),x=f.group.slice(1),n=q(_.value=="announces"?[{name:"Selecciona una opción",value:-1},...x]:[{name:"Selecciona una opción",value:-1},f.group[0]]),u=q([{name:"Selecciona una opción",value:-1}]),m=q([{name:"Selecciona una opción",id:-1}]),l=q(!1),r=q(i.dialog),a=q({status:4,group:{name:"Selecciona una opción",value:-1},category:{name:"Selecciona una opción",value:-1},post_by:-1,date_from:"",date_to:""}),I=()=>{g("closeModal")},R=()=>{f.getUserWithPublish().then(h=>{m.value=[...m.value,...h.data]}).catch(h=>{console.log(h)})},A=()=>{g("closeModal"),g("updateList",{...Q()})},Q=()=>({status:a.value.status,group:a.value.group.value==-1?"":a.value.group.value,category:a.value.category.value==-1?"":a.value.category.value,post_by:a.value.post_by==-1?"":a.value.post_by,date_from:a.value.date_from,date_to:a.value.date_to}),v=h=>{if(h.value==-1){u.value=[{name:"Selecciona una opción",value:-1}],a.value.category={name:"Selecciona una opción",value:-1};return}u.value=[{name:"Selecciona una opción",value:-1},...f.category[h.value]]},P=()=>{a.value={status:4,group:{name:"Selecciona una opción",value:-1},category:{name:"Selecciona una opción",value:-1},post_by:-1,date_from:"",date_to:""},u.value=[{name:"Selecciona una opción",value:-1}],g("updateList",{...Q()})};return fe(()=>{R()}),E(()=>i.dialog,h=>{r.value=h}),E(()=>i.typeSearch,h=>{_.value=h,n.value=_.value=="announces"?[{name:"Selecciona una opción",value:-1},...x]:[{name:"Selecciona una opción",value:-1},f.group[0]]}),(h,o)=>(p(),B(ge,{modelValue:r.value,"onUpdate:modelValue":o[8]||(o[8]=y=>r.value=y),class:"filterNoticeDialog",persistent:"","backdrop-filter":"blur(0.5px)"},{default:c(()=>[s(ye,{class:"dialog_document public py-2"},{default:c(()=>[t("div",et,[t("div",tt,[s(V,{round:"",outline:"",icon:"eva-arrow-back-outline",color:"primary",onClick:o[0]||(o[0]=y=>(P(),I()))}),o[9]||(o[9]=t("div",{class:"text-2xl text-primary font-bold pt-1"}," Filtrar ",-1))])]),t("div",ot,[e.isOnlyMyPost&&e.isOnlyMyPost=="active"||b(k).rol_id==1?(p(),S("section",lt,[t("div",at,[o[14]||(o[14]=t("div",{class:"mb-1 text-lg font-medium text-primary"}," Estado de anuncios/noticias ",-1)),t("div",st,[s(b(Se),{modelValue:a.value.status,"onUpdate:modelValue":o[1]||(o[1]=y=>a.value.status=y),class:"row statusRadioGroup"},{default:c(()=>[t("div",it,[s(b(j),{name:0,"icon-size":"1.3rem","label-position":"left"},{default:c(()=>[...o[10]||(o[10]=[w("Cancelado",-1)])]),_:1})]),t("div",nt,[s(b(j),{name:1,"icon-size":"1.3rem","label-position":"left"},{default:c(()=>[...o[11]||(o[11]=[w("Pendiente",-1)])]),_:1})]),t("div",rt,[s(b(j),{name:2,"icon-size":"1.3rem","label-position":"left"},{default:c(()=>[...o[12]||(o[12]=[w("Aprobada",-1)])]),_:1})]),t("div",dt,[s(b(j),{name:4,"icon-size":"1.3rem","label-position":"left"},{default:c(()=>[...o[13]||(o[13]=[w("Todas",-1)])]),_:1})])]),_:1},8,["modelValue"])])]),t("div",ut,[o[15]||(o[15]=t("div",{class:"mb-3 text-lg font-medium text-primary col-12"}," Grupo ",-1)),t("div",ct,[s(U,{class:"form__inputsFilterPays",modelValue:a.value.group,"onUpdate:modelValue":[o[2]||(o[2]=y=>a.value.group=y),v],options:n.value,"option-label":"name","option-value":"value",dense:"",borderless:""},null,8,["modelValue","options"])])]),t("div",mt,[o[16]||(o[16]=t("div",{class:"mb-3 text-lg font-medium text-primary col-12"}," Categoria ",-1)),t("div",pt,[s(U,{class:"form__inputsFilterPays",modelValue:a.value.category,"onUpdate:modelValue":o[3]||(o[3]=y=>a.value.category=y),options:u.value,"option-label":"name","option-value":"value","emit-value":"","map-options":"",dense:"",borderless:""},null,8,["modelValue","options"])])]),_.value=="announces"?(p(),S("div",_t,[o[17]||(o[17]=t("div",{class:"mb-4 text-lg font-medium text-primary col-12"}," Publicado por ",-1)),t("div",vt,[s(U,{class:"form__inputsFilterPays",modelValue:a.value.post_by,"onUpdate:modelValue":o[4]||(o[4]=y=>a.value.post_by=y),options:m.value,"option-label":"name","option-value":"id","emit-value":"","map-options":"",dense:"",borderless:""},null,8,["modelValue","options"])])])):L("",!0),t("div",bt,[o[18]||(o[18]=t("div",{class:"mb-4 text-lg font-medium text-primary col-12"}," Rango de fechas de pago ",-1)),t("div",ft,[s(W,{class:"form__inputsFilterPays",dense:"",borderless:"",modelValue:a.value.date_from,"onUpdate:modelValue":o[5]||(o[5]=y=>a.value.date_from=y),type:"date",label:"Desde"},null,8,["modelValue"])]),t("div",yt,[s(W,{class:"form__inputsFilterPays",dense:"",borderless:"",modelValue:a.value.date_to,"onUpdate:modelValue":o[6]||(o[6]=y=>a.value.date_to=y),type:"date",label:"Hasta"},null,8,["modelValue"])])])])):L("",!0),t("section",gt,[t("div",xt,[s(V,{label:"Restablecer",unelevated:"",class:"q-mx-sm",color:"primary",outline:"",style:{"border-radius":"0.8rem",padding:"0px  2rem!important","font-size":"1rem"},onClick:o[7]||(o[7]=y=>P())}),s(V,{label:"Aplicar",unelevated:"",class:"q-mx-sm",color:"primary",style:{"border-radius":"0.8rem",padding:"0px  2rem!important","font-size":"1rem"},loading:l.value,onClick:A},null,8,["loading"])])])])]),_:1})]),_:1},8,["modelValue"]))}};export{Qt as Q,jt as _,Ft as a,Ot as b,At as c};
