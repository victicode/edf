import{Q as M}from"./QSpinnerDots-C4tArpGa.js";import{r as i,O as j,G as C,e as l,f as t,g as D,t as o,H as V,i as d,l as u,D as y,A as B,n as N,I as Y,q as H,o as a}from"./index-BSBF4jGH.js";import{u as Q}from"./quota.store-C4_rH8y9.js";import{h as b}from"./moment-BLMuvzoS.js";import{_ as S}from"./voucherModal-CdJrqyQc.js";import"./vue3-zoomer.es-CLqq-9XB.js";const q={class:"min-h-screen relative overflow-hidden"},I={class:"relative pt-8 pb-0 md:px-6 px-3"},L={key:0,class:"flex flex-col items-center justify-center py-20"},T={key:1,class:"flex flex-col items-center justify-center py-20"},E={class:"text-gray-600 text-center mb-6"},z={key:2,class:"flex flex-col items-center md:px-28 md:mx-28"},A={class:"bg-white rounded-xl shadow-lg border border-gray-100 flex flex-col items-center w-full"},R={class:"row w-full mb-3 items-start"},$={class:"flex flex-col items-start col-md-9 col-6 md:pl-5 pl-3"},F={class:"mb-4 pt-5"},G={class:"bg-primary rounded-xl p-3"},O=["innerHTML"],P={class:"text-2xl font-bold text-gray-900 md:mb-2"},U={class:"col-md-3 col-6 text-right"},J={class:"flex justify-end md:pb-1"},K={class:"p-4 dateFact text-primary text-md font-bold"},W={class:"row"},X={class:"mt-4 md:mt-2 md:pr-5 pr-3 col-12"},Z={class:"text-primary text-md font-bold"},tt={class:"mt-4 md:mt-2 md:pr-5 pr-3 col-12"},et={class:"text-primary text-md font-bold"},st={class:"w-full md:p-5 px-4 pt-5 mb-5",style:{"border-top":"1px solid lightgray"}},ot={class:"space-y-4"},at={class:"flex justify-between items-center pb-2",style:{"border-bottom":"1px solid rgba(211, 211, 211, 0.534)"}},lt={key:0,class:"flex justify-between items-center pb-2",style:{"border-bottom":"1px solid rgba(211, 211, 211, 0.534)"}},rt={class:"text-gray-900 font-semibold"},nt={class:"flex justify-between items-center pb-2",style:{"border-bottom":"1px solid rgba(211, 211, 211, 0.534)"}},it={class:"text-gray-900 font-semibold"},dt={key:1,class:"flex justify-between items-center pb-2",style:{"border-bottom":"1px solid rgba(211, 211, 211, 0.534)"}},ut={class:"text-gray-900 font-semibold"},mt={class:"flex justify-between items-center pb-2",style:{"border-bottom":"1px solid rgba(211, 211, 211, 0.534)"}},ct={class:"text-gray-900 font-semibold"},pt={class:"flex justify-between items-center pb-2",style:{"border-bottom":"1px solid rgba(211, 211, 211, 0.534)"}},xt={class:"text-gray-900 font-semibold"},ft=["innerHTML"],vt={key:3,class:"flex flex-col items-center justify-center py-20"},Mt={__name:"viewQuota",setup(yt){const p=j(),g=H(),_=Q(),s=i(null),m=i(!1),r=i(null),c=i(!1),x=async f=>{try{m.value=!0,r.value=null;const e=await _.getQuotaById(f);s.value=e.data}catch(e){console.error("Error al obtener la reserva:",e),r.value=e||"Error al cargar la cuota"}finally{m.value=!1}},h=()=>{g.push("/client/quotas/list")},n=p.params.id||p.query.id;C(()=>{n?x(n):r.value="ID de reserva no proporcionado"});const w=()=>{n&&x(n)};return(f,e)=>{var v;return a(),l("div",q,[t("div",I,[m.value?(a(),l("div",L,[D(M,{color:"primary",size:"4rem"}),e[2]||(e[2]=t("p",{class:"text-gray-600 font-medium"},"Cargando cuota...",-1))])):r.value?(a(),l("div",T,[e[3]||(e[3]=t("div",{class:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mb-6"},[t("svg",{class:"w-10 h-10 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})])],-1)),e[4]||(e[4]=t("h2",{class:"text-xl font-bold text-gray-900 mb-2"},"¡Ups! Algo salió mal",-1)),t("p",E,o(r.value),1),t("button",{onClick:w,class:"px-6 py-3 bg-red-500 text-white rounded-full font-medium hover:bg-red-600 transition-colors"}," Reintentar ")])):s.value?(a(),l("div",z,[t("div",A,[t("div",R,[t("div",$,[t("div",F,[t("div",G,[t("div",{innerHTML:u(y).mensuality2},null,8,O)])]),t("h1",P,"Cuota mes: "+o(s.value.month_label),1)]),t("div",U,[t("div",J,[t("div",K,[e[5]||(e[5]=t("span",{class:"text-grey-7 font-medium text-md"},"Creada el:",-1)),B(" "+o(u(b)(s.value.created_at).format("DD/MM/YYYY")),1)])]),t("div",W,[t("div",X,[e[6]||(e[6]=t("div",{class:"text-grey-7 font-medium text-md"},"Apartemento N°:",-1)),t("div",Z,o(s.value.departament.number),1)]),t("div",tt,[e[7]||(e[7]=t("div",{class:"text-grey-7 font-medium text-md"},"Propietario:",-1)),t("div",et,o(s.value.departament.owner.name??""),1)])])])]),t("div",st,[t("div",ot,[t("div",at,[e[8]||(e[8]=t("span",{class:"text-gray-600 font-medium"},"Estado de pago",-1)),t("span",{class:N(["font-semibold","text-"+s.value.status_color])},o(s.value.status_label),3)]),s.value.amount>0?(a(),l("div",lt,[e[9]||(e[9]=t("span",{class:"text-gray-600 font-medium"},"Monto pagado",-1)),t("span",rt,"S/. "+o(s.value.amount),1)])):d("",!0),t("div",nt,[e[10]||(e[10]=t("span",{class:"text-gray-600 font-medium"},"Fecha de pago",-1)),t("span",it,o(u(b)(s.value.pay.pay_date).format("DD/MM/YYYY")),1)]),s.value.amount>0&&s.value.pay?(a(),l("div",dt,[e[11]||(e[11]=t("span",{class:"text-gray-600 font-medium"},"Método de pago",-1)),t("span",ut,o(((v=s.value.pay)==null?void 0:v.pay_method_label)||"S/N"),1)])):d("",!0),t("div",mt,[e[12]||(e[12]=t("span",{class:"text-gray-600 font-medium"},"ID de cuota",-1)),t("span",ct,"#"+o(s.value.number),1)]),t("div",pt,[e[13]||(e[13]=t("span",{class:"text-gray-600 font-medium"},"Nro. de operación",-1)),t("span",xt,"#"+o(s.value.pay.reference),1)])]),s.value.pay?(a(),l("div",{key:0,class:"flex flex-center mt-4",onClick:e[0]||(e[0]=k=>c.value=!0)},[e[14]||(e[14]=t("div",{class:"text-center text-subtitle1 text-primary text-bold font-medium cursor-pointer text__vaucher",style:{"text-decoration":"dotted"}}," Vaucher de pago ",-1)),t("span",{class:"ml-2",innerHTML:u(y).voucher},null,8,ft)])):d("",!0)]),e[15]||(e[15]=t("div",{class:"w-full space-y-4"},null,-1))]),s.value.pay?(a(),V(S,{key:0,vaucher:s.value.pay.vaucher,dialog:c.value,onCloseModal:e[1]||(e[1]=k=>c.value=!1)},null,8,["vaucher","dialog"])):d("",!0)])):(a(),l("div",vt,[e[16]||(e[16]=Y('<div class="w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mb-6"><svg class="w-10 h-10 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg></div><h2 class="text-xl font-bold text-gray-900 mb-2">Cuota no encontrada</h2><p class="text-gray-600 text-center mb-6">La cuota solicitada no existe o no tienes permisos para verla.</p>',3)),t("button",{onClick:h,class:"px-6 py-3 bg-gray-500 text-white rounded-full font-medium hover:bg-gray-600 transition-colors"}," Volver al inicio ")]))])])}}};export{Mt as default};
