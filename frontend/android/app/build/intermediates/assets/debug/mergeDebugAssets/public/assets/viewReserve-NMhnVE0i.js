import{Q as j}from"./QSpinnerDots-C4tArpGa.js";import{r as i,O as M,G as C,e as r,f as e,g as B,t as o,H as D,i as d,l as u,D as b,A as S,n as V,I as H,q as L,o as l}from"./index-BSBF4jGH.js";import{u as R}from"./reserve.store-B7o8BB79.js";import{h as I}from"./moment-BLMuvzoS.js";import{_ as N}from"./voucherModal-CdJrqyQc.js";import"./vue3-zoomer.es-CLqq-9XB.js";const T={class:"min-h-screen relative overflow-hidden"},E={class:"relative pt-8 pb-0 md:px-6 px-3"},Y={key:0,class:"flex flex-col items-center justify-center py-20"},z={key:1,class:"flex flex-col items-center justify-center py-20"},A={class:"text-gray-600 text-center mb-6"},$={key:2,class:"flex flex-col items-center md:px-28 md:mx-28"},q={class:"bg-white rounded-xl shadow-lg border border-gray-100 flex flex-col items-center w-full"},F={class:"row w-full mb-3 items-end"},Q={class:"flex flex-col items-start col-md-6 col-6 md:pl-5 pl-3"},G={class:"mb-4 pt-5"},O={class:"bg-primary rounded-xl p-4"},U=["innerHTML"],J={class:"text-2xl font-bold text-gray-900 md:mb-2"},K={class:"col-md-6 col-6 text-right"},P={class:"flex justify-end"},W={class:"p-4 dateFact text-primary text-md font-bold"},X={class:"mt-4 md:pr-5 pr-3"},Z={class:"text-primary text-md font-bold"},ee={class:"mt-4 md:pr-5 pr-3"},te={class:"text-primary text-md font-bold"},se={class:"w-full md:p-5 px-4 pt-5 mb-5",style:{"border-top":"1px solid lightgray"}},oe={class:"space-y-4"},le={class:"flex justify-between items-center pb-2",style:{"border-bottom":"1px solid rgba(211, 211, 211, 0.534)"}},re={key:0,class:"flex justify-between items-center pb-2",style:{"border-bottom":"1px solid rgba(211, 211, 211, 0.534)"}},ae={class:"text-gray-900 font-semibold"},ne={class:"flex justify-between items-center pb-2",style:{"border-bottom":"1px solid rgba(211, 211, 211, 0.534)"}},ie={class:"text-gray-900 font-semibold"},de={key:1,class:"flex justify-between items-center pb-2",style:{"border-bottom":"1px solid rgba(211, 211, 211, 0.534)"}},me={class:"text-gray-900 font-semibold"},ce={class:"flex justify-between items-center pb-2",style:{"border-bottom":"1px solid rgba(211, 211, 211, 0.534)"}},ue={class:"text-gray-900 font-semibold"},pe={class:"flex justify-between items-center pb-2",style:{"border-bottom":"1px solid rgba(211, 211, 211, 0.534)"}},ve={class:"text-gray-900 font-semibold"},xe=["innerHTML"],fe={key:3,class:"flex flex-col items-center justify-center py-20"},je={__name:"viewReserve",setup(ye){const p=M(),g=L(),_=R(),s=i(null),m=i(!1),a=i(null),c=i(!1),v=async x=>{try{m.value=!0,a.value=null;const t=await _.getReserveById(x);s.value=t.data}catch(t){console.error("Error al obtener la reserva:",t),a.value=t||"Error al cargar la reserva"}finally{m.value=!1}},h=()=>{g.push("/client/reserves/list")},n=p.params.id||p.query.id;C(()=>{n?v(n):a.value="ID de reserva no proporcionado"});const k=()=>{n&&v(n)};return(x,t)=>{var f,y;return l(),r("div",T,[e("div",E,[m.value?(l(),r("div",Y,[B(j,{color:"primary",size:"4rem"}),t[2]||(t[2]=e("p",{class:"text-gray-600 font-medium"},"Cargando reserva...",-1))])):a.value?(l(),r("div",z,[t[3]||(t[3]=e("div",{class:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mb-6"},[e("svg",{class:"w-10 h-10 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})])],-1)),t[4]||(t[4]=e("h2",{class:"text-xl font-bold text-gray-900 mb-2"},"¡Ups! Algo salió mal",-1)),e("p",A,o(a.value),1),e("button",{onClick:k,class:"px-6 py-3 bg-red-500 text-white rounded-full font-medium hover:bg-red-600 transition-colors"}," Reintentar ")])):s.value?(l(),r("div",$,[e("div",q,[e("div",F,[e("div",Q,[e("div",G,[e("div",O,[e("div",{innerHTML:u(b)[s.value.comun_area.icon]},null,8,U)])]),e("h1",J,o(((f=s.value.comun_area)==null?void 0:f.name)||"Área Común"),1)]),e("div",K,[e("div",P,[e("div",W,[t[5]||(t[5]=e("span",{class:"text-grey-7 font-medium text-md"},"Creada el:",-1)),S(" "+o(u(I)(s.value.created_at).format("DD/MM/YYYY")),1)])]),e("div",X,[t[6]||(t[6]=e("div",{class:"text-grey-7 font-medium text-md"},"A nombre:",-1)),e("div",Z,o(s.value.user.name),1)]),e("div",ee,[t[7]||(t[7]=e("div",{class:"text-grey-7 font-medium text-md"},"Contacto:",-1)),e("div",te,o(s.value.user.phone??""),1)])])]),e("div",se,[e("div",oe,[e("div",le,[t[8]||(t[8]=e("span",{class:"text-gray-600 font-medium"},"Estado de la reserva",-1)),e("span",{class:V(["font-semibold","text-"+s.value.status_color])},o(s.value.status_label),3)]),s.value.amount>0?(l(),r("div",re,[t[9]||(t[9]=e("span",{class:"text-gray-600 font-medium"},"Monto pagado",-1)),e("span",ae,"S/. "+o(s.value.amount),1)])):d("",!0),e("div",ne,[t[10]||(t[10]=e("span",{class:"text-gray-600 font-medium"},"Fecha de reserva",-1)),e("span",ie,o(new Date(s.value.date).toLocaleDateString("es-ES")),1)]),s.value.amount>0&&s.value.pay?(l(),r("div",de,[t[11]||(t[11]=e("span",{class:"text-gray-600 font-medium"},"Método de pago",-1)),e("span",me,o(((y=s.value.pay)==null?void 0:y.pay_method_label)||"S/N"),1)])):d("",!0),e("div",ce,[t[12]||(t[12]=e("span",{class:"text-gray-600 font-medium"},"ID de reserva",-1)),e("span",ue,"#"+o(s.value.booking_number),1)]),e("div",pe,[t[13]||(t[13]=e("span",{class:"text-gray-600 font-medium"},"Horario",-1)),e("span",ve,o(s.value.time_from)+" - "+o(s.value.time_to),1)])]),s.value.pay?(l(),r("div",{key:0,class:"flex flex-center mt-4",onClick:t[0]||(t[0]=w=>c.value=!0)},[t[14]||(t[14]=e("div",{class:"text-center text-subtitle1 text-primary text-bold font-medium cursor-pointer text__vaucher",style:{"text-decoration":"dotted"}}," Vaucher de pago ",-1)),e("span",{class:"ml-2",innerHTML:u(b).voucher},null,8,xe)])):d("",!0)]),t[15]||(t[15]=e("div",{class:"w-full space-y-4"},null,-1))]),s.value.pay?(l(),D(N,{key:0,vaucher:s.value.pay.vaucher,dialog:c.value,onCloseModal:t[1]||(t[1]=w=>c.value=!1)},null,8,["vaucher","dialog"])):d("",!0)])):(l(),r("div",fe,[t[16]||(t[16]=H('<div class="w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mb-6"><svg class="w-10 h-10 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg></div><h2 class="text-xl font-bold text-gray-900 mb-2">Reserva no encontrada</h2><p class="text-gray-600 text-center mb-6">La reserva solicitada no existe o no tienes permisos para verla.</p>',3)),e("button",{onClick:h,class:"px-6 py-3 bg-gray-500 text-white rounded-full font-medium hover:bg-gray-600 transition-colors"}," Volver al inicio ")]))])])}}};export{je as default};
