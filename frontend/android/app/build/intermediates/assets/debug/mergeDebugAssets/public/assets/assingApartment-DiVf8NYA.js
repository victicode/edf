import{Q as h}from"./QItem-D2c8Co2M.js";import{Q as w}from"./QSelect-CSskTD8W.js";import{J as A,r,O as S,G as Q,e as m,f as e,g as n,w as l,q as k,N,o as d,L as V,M as B,i as f,t as u,x as j}from"./index-BSBF4jGH.js";import{Q as R}from"./QForm-n8jT9PtN.js";import{u as D}from"./apartment.store-DfQ6G_1F.js";import"./use-key-composition-Z-2-MGMt.js";import"./use-id-BKlrVpl6.js";import"./QChip-C5Fpsmun.js";import"./QItemLabel-CTtt8RWV.js";import"./QMenu-DSB_uF9S.js";import"./position-engine-DU4jhfDu.js";import"./format-CoaQEihs.js";const P={class:"md:px-20 md:mx-16 px-2 h-full"},z={class:"flex w-full h-5/6 column justify-between"},C={class:"my-1 px-2 md:px-12 w-full"},F={class:"w-full"},M={class:"flex items-center justify-between w-full"},O={class:"text-subtitle1",style:{"font-weight":"500"}},U={key:0,class:"text-positive text-subtitle2 pl-2"},q={key:0,class:"text-caption text-grey-6"},E={class:"flex items-center justify-end mt-5 w-full"},G={class:"flex items-center justify-end px-2",style:{width:"100%","box-sizing":"border-box"}},st={__name:"assingApartment",setup(I){const v=k(),x=A(),b=D(),p=r([]),_=()=>{b.getApartmentsByFind("available").then(s=>{console.log(s),p.value=[{id:0,number:"Selecciona un apartamento"},...s.data]})},g=S(),i=r(!1),a=r({user:g.params.id,apartment:{id:0,number:"Selecciona un apartamento"},idApartament:0}),y=()=>{i.value=!0,a.value.idApartament=a.value.apartment.id,x.assingApartment(a.value).then(s=>{c("positive","Apartamento asignado con exito"),setTimeout(()=>{i.value=!1,v.go(-1)},1e3)}).catch(s=>{console.log(s),i.value=!1,c("negative",s)})},c=(s,t)=>{N.create({color:s,message:t,timeout:2e3})};return Q(()=>{_()}),(s,t)=>(d(),m("div",P,[t[4]||(t[4]=e("div",{class:"text-center text-black text-h5 text-bold md:mt-4 mt-5 mb-3"}," Asignación del inmobiliario ",-1)),n(R,{onSubmit:t[1]||(t[1]=o=>y()),class:"h-full"},{default:l(()=>[e("div",z,[e("div",C,[t[2]||(t[2]=e("div",{class:"text-subtitle2 text-bold text-black"}," Selecciona el apartamento ",-1)),n(w,{borderless:"",class:"form__inputsR mt-2",modelValue:a.value.apartment,"onUpdate:modelValue":t[0]||(t[0]=o=>a.value.apartment=o),"option-value":"id","option-label":"number",options:p.value,behavior:"menu"},{option:l(o=>[n(h,V(B(o.itemProps)),{default:l(()=>[e("div",F,[e("div",M,[e("div",O,u(o.opt.id!=0?"#":"")+" "+u(o.opt.number),1),o.opt.id!=0?(d(),m("div",U," Disponible ")):f("",!0)]),o.opt.id!=0?(d(),m("div",q,u(o.opt.area)+" mt² ",1)):f("",!0)])]),_:2},1040)]),_:1},8,["modelValue","options"])]),e("div",E,[e("div",G,[n(j,{color:"primary ",style:{"border-radius":"0.5rem",width:"100%"},type:"submit",loading:i.value},{default:l(()=>[...t[3]||(t[3]=[e("div",{class:"px-8 py-1"}," Asignar ",-1)])]),_:1},8,["loading"])])])])]),_:1})]))}};export{st as default};
