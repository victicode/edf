import{Q as r}from"./QInput-CCszA-Cu.js";import{r as p,G as R,e as c,f as t,g as s,w as a,q as A,N,o as u,T as x,i as v,v as f,B as b,x as n,H as C}from"./index-BSBF4jGH.js";import{Q as y}from"./QTime-6RwcKHVB.js";import{Q as V}from"./QPopupProxy-C_r6gXi9.js";import{Q as P}from"./QForm-n8jT9PtN.js";import{C as _}from"./ClosePopup-CTuEMMh8.js";import{u as B}from"./comunArea.store-BuWp1D4-.js";import"./use-key-composition-Z-2-MGMt.js";import"./use-id-BKlrVpl6.js";import"./TouchPan-DZJlNQpP.js";import"./position-engine-DU4jhfDu.js";import"./format-CoaQEihs.js";import"./QMenu-DSB_uF9S.js";const D={class:"md:px-20 md:mx-16 px-2 h-full",style:{overflow:"hidden"}},F={class:"w-full h-full"},j={key:0,class:"row w-full"},S={class:"col-md-6 col-12 mt-1 px-2 md:px-12"},q={class:"col-md-6 col-12 mt-1 px-2 md:px-12"},H={class:"col-md-6 col-12 mt-1 px-2 md:px-12"},I={class:"col-md-6 col-12 mt-2 px-2 md:px-12"},z={class:"col-md-6 col-12 mt-2 px-2 md:px-12"},E={key:0,class:"row w-full"},M={class:"col-md-6 col-12 row mt-1 px-2 md:px-12"},$={class:"col-12"},G={class:"col-12 mt-6"},L={class:"row w-full mt-4"},J={class:"col-6 pr-2 md:pr-4"},K={class:"row items-center justify-end"},O={class:"col-6 pl-2 md:pl-4"},W={class:"row items-center justify-end"},X={class:"col-md-6 col-12 mt-1 px-2 md:px-12"},Y={class:"w-full mb-2 px-2 md:px-12 flex justify-center mt-10"},pe={__name:"createComunArea",setup(Z){const w=B(),k=A(),d=p(!1),i=p(0),o=p({name:"",capacity:"",price:0,warrantyPrice:0,description:"",maxTime:1,timeFrom:"",timeTo:"",rules:""}),g=()=>{i.value--},T=()=>{if(i.value==1){U();return}i.value++},U=()=>{d.value=!0,w.createComunArea(o.value).then(m=>{if(m.code!==200)throw m;Q("positive","Area común creada con exito"),setTimeout(()=>{d.value=!1,k.go(-1)},1e3)}).catch(m=>{d.value=!1})},Q=(m,e)=>{N.create({color:m,message:e,timeout:2e3})};return R(()=>{}),(m,e)=>(u(),c("div",D,[e[25]||(e[25]=t("div",{class:"text-center text-black text-h5 text-bold md:mt-4 mt-8 md:mb-8 mb-4"}," Datos del area común ",-1)),s(P,{onSubmit:e[12]||(e[12]=l=>T()),class:"h-full"},{default:a(()=>[t("div",F,[s(x,{name:"horizontal"},{default:a(()=>[i.value==0?(u(),c("div",j,[t("div",S,[e[13]||(e[13]=t("div",{class:"text-subtitle2 text-black"}," Nombre del area ",-1)),s(r,{dense:"",borderless:"",clearable:"",modelValue:o.value.name,"onUpdate:modelValue":e[0]||(e[0]=l=>o.value.name=l),class:"form__inputsR mt-1",color:"primary",rules:[l=>l&&l.length>0||"Nombre de area es requerido"]},null,8,["modelValue","rules"])]),t("div",q,[e[14]||(e[14]=t("div",{class:"text-subtitle2 text-black"}," Aforo ",-1)),s(r,{dense:"",borderless:"",clearable:"",modelValue:o.value.capacity,"onUpdate:modelValue":e[1]||(e[1]=l=>o.value.capacity=l),class:"form__inputsR mt-1",color:"primary",rules:[l=>!!l||"El aforo es requerido"]},null,8,["modelValue","rules"])]),t("div",H,[e[15]||(e[15]=t("div",{class:"text-subtitle2 text-black"}," Precio por reserva ",-1)),s(r,{dense:"",borderless:"",clearable:"",modelValue:o.value.price,"onUpdate:modelValue":e[2]||(e[2]=l=>o.value.price=l),class:"form__inputsR mt-1",color:"primary",hint:"Dejar en 0 si no requiere reserva"},null,8,["modelValue"])]),t("div",I,[e[16]||(e[16]=t("div",{class:"text-subtitle2 text-black"}," Precio de garantia ",-1)),s(r,{dense:"",borderless:"",clearable:"",modelValue:o.value.warrantyPrice,"onUpdate:modelValue":e[3]||(e[3]=l=>o.value.warrantyPrice=l),class:"form__inputsR mt-1",color:"primary",hint:"Dejar en 0 si no aplica garantia"},null,8,["modelValue"])]),t("div",z,[e[17]||(e[17]=t("div",{class:"text-subtitle2 text-black"}," Descripción ",-1)),s(r,{borderless:"",clearable:"",modelValue:o.value.description,"onUpdate:modelValue":e[4]||(e[4]=l=>o.value.description=l),class:"form__inputsR mt-1",color:"primary"},null,8,["modelValue"])])])):v("",!0)]),_:1}),s(x,{name:"horizontal"},{default:a(()=>[i.value==1?(u(),c("div",E,[t("div",M,[t("div",$,[e[18]||(e[18]=t("div",{class:"text-subtitle2 text-black"}," Maximo de horas de reserva ",-1)),s(r,{dense:"",borderless:"",clearable:"",modelValue:o.value.maxTime,"onUpdate:modelValue":e[5]||(e[5]=l=>o.value.maxTime=l),class:"form__inputsR mt-1",autofocus:"",color:"primary",rules:[l=>!!l||"Las horas maxima de reserva es necesaria"]},null,8,["modelValue","rules"])]),t("div",G,[e[21]||(e[21]=t("div",{class:"text-subtitle2 text-black"}," Horas disponibles: ",-1)),t("div",L,[t("div",J,[e[19]||(e[19]=t("div",{class:"text-body2 text-black",style:{"font-weight":"medium"}}," Desde: ",-1)),s(r,{modelValue:o.value.timeFrom,"onUpdate:modelValue":e[7]||(e[7]=l=>o.value.timeFrom=l),mask:"time",rules:["time"],dense:"",borderless:"",clearable:"",class:"form__inputsR mt-1",color:"primary"},{append:a(()=>[s(f,{name:"eva-clock-outline",class:"cursor-pointer"},{default:a(()=>[s(V,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[s(y,{modelValue:o.value.timeFrom,"onUpdate:modelValue":e[6]||(e[6]=l=>o.value.timeFrom=l)},{default:a(()=>[t("div",K,[b(s(n,{label:"Aceptar",color:"primary",flat:""},null,512),[[_]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),t("div",O,[e[20]||(e[20]=t("div",{class:"text-body2 text-black",style:{"font-weight":"medium"}}," Hasta: ",-1)),s(r,{modelValue:o.value.timeTo,"onUpdate:modelValue":e[9]||(e[9]=l=>o.value.timeTo=l),mask:"time",rules:["time"],dense:"",borderless:"",clearable:"",class:"form__inputsR mt-1",color:"primary"},{append:a(()=>[s(f,{name:"eva-clock-outline",class:"cursor-pointer"},{default:a(()=>[s(V,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[s(y,{modelValue:o.value.timeTo,"onUpdate:modelValue":e[8]||(e[8]=l=>o.value.timeTo=l)},{default:a(()=>[t("div",W,[b(s(n,{label:"Aceptar",color:"primary",flat:""},null,512),[[_]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])])])]),t("div",X,[e[22]||(e[22]=t("div",{class:"text-subtitle2 text-black"}," Normas ",-1)),s(r,{dense:"",borderless:"",clearable:"",type:"textarea",modelValue:o.value.rules,"onUpdate:modelValue":e[10]||(e[10]=l=>o.value.rules=l),class:"form__inputsR mt-1",color:"primary",rules:[l=>l&&l.length>0||"Indica las reglas"]},null,8,["modelValue","rules"])])])):v("",!0)]),_:1}),t("div",Y,[i.value==1?(u(),C(n,{key:0,color:"grey-7",style:{"border-radius":"0.5rem"},onClick:e[11]||(e[11]=l=>g()),class:"me-7"},{default:a(()=>[...e[23]||(e[23]=[t("div",{class:"md:px-10 px-5 py-1"}," Volver ",-1)])]),_:1})):v("",!0),s(n,{color:"primary ",style:{"border-radius":"0.5rem"},type:"submit",loading:d.value},{default:a(()=>[...e[24]||(e[24]=[t("div",{class:"md:px-10 px-10 py-1"}," Siguiente ",-1)])]),_:1},8,["loading"])])])]),_:1})]))}};export{pe as default};
