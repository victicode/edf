import{Q as z}from"./QSpinnerDots-C4tArpGa.js";import{Q as h}from"./QTooltip-DLGKm_pr.js";import{_ as H,r as g,G as A,e as r,f as e,g as a,F as D,j as I,I as N,w as i,x as b,O as R,q as P,o as n,n as $,t as l,l as c,D as _,A as d,H as p,i as k,B as w,v as Y}from"./index-BSBF4jGH.js";import{Q as M,a as C}from"./QItem-D2c8Co2M.js";import{Q as F}from"./QSeparator-BBtHUKtx.js";import{Q as q}from"./QList-DPQjt_4m.js";import{Q as E}from"./QMenu-DSB_uF9S.js";import{C as Q}from"./ClosePopup-CTuEMMh8.js";import{u as G}from"./reserve.store-B7o8BB79.js";import{h as B}from"./moment-BLMuvzoS.js";import"./position-engine-DU4jhfDu.js";const J={class:"h-full"},O={class:"",style:{height:"90%",overflow:"auto"}},K={key:0,class:"flex justify-center items-center py-20"},U={key:1,class:"px-4 py-6 md:px-28"},W={key:0,class:"space-y-3 md:px-5"},X={class:"px-4 pb-4 pt-2 border-b border-dashed border-gray-300"},Z={class:"flex justify-between items-start mb-2"},ee={class:"flex items-center space-x-4"},te={class:"flex-1 space-y-2"},se={class:"flex items-center text-sm text-gray-700"},oe={class:"font-medium"},ae={class:"flex items-center text-sm text-gray-700"},ie={class:"font-medium"},ne={class:"flex items-center text-sm text-gray-700"},re=["innerHTML"],le={class:"font-medium"},de={class:"font-medium"},me={class:"p-4 bg-gray-50"},ce={class:"flex justify-between items-center"},ue={class:"flex items-center"},_e={class:"text-sm font-medium text-gray-700"},pe={class:"flex items-center"},fe=["innerHTML"],ve={flat:"",rounded:"",color:"primary",size:"sm",class:"ml-3 cursor-pointer"},xe=["innerHTML"],ye={key:1,class:"flex flex-col items-center justify-center py-20"},he={class:"px-4 md:px-0 md:flex md:justify-center items-center md:w-full md:px-12",style:{height:"10%"}},ge={class:"flex items-center py-2"},be={__name:"bookingsList",setup(ke){B.locale("es",{monthsShort:"Ene_Feb_Mar_Abr_May_Jun_Jul_Ago_Sep_Oct_Nov_Dic".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_")});const V=G(),u=g([]),f=g(!1),j=P(),T=R(),L=()=>{V.getReservesByArea(T.params.id).then(o=>{console.log(o),u.value=o.data,setTimeout(()=>{f.value=!0},100)}).catch(o=>{console.log(o)})},m=o=>{j.push(o)},v=o=>o,S=o=>o.amount>0?`S/. ${o.amount}`:"Gratis";return A(()=>{L()}),(o,t)=>(n(),r("div",J,[e("div",O,[f.value?(n(),r("div",U,[u.value.length>0?(n(),r("div",W,[(n(!0),r(D,null,I(u.value,s=>{var x;return n(),r("div",{key:s.id,class:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden md:mb-5",style:{position:"relative"}},[e("div",X,[e("div",Z,[e("span",{class:$(["bg-"+s.status_color,"inline-block px-3 py-2 text-xs font-bold text-white badgeReserve"])},l(s.status_label),3)]),e("div",ee,[e("div",te,[e("div",se,[t[1]||(t[1]=e("svg",{class:"w-4 h-4 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),e("span",oe,l(c(B)(s.date).format("DD MMM YYYY")),1)]),e("div",ae,[t[2]||(t[2]=e("svg",{class:"w-4 h-4 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",ie,l(v(s.time_from))+" - "+l(v(s.time_to)),1)]),e("div",ne,[e("div",{innerHTML:c(_).moneyIcon},null,8,re),e("span",le,[d(l(S(s))+" - ",1),e("span",de,l(((x=s.pay)==null?void 0:x.pay_method_label)??"Confirmada"),1)])])])])]),e("div",me,[e("div",ce,[e("div",ue,[e("span",_e,l(s.user.name),1)]),e("div",pe,[s.status==2?(n(),p(b,{key:0,unelevated:"",rounded:"",color:"warning",size:"sm",class:"ml-3",onClick:y=>m("/admin/pay/validate/"+s.pay.id)},{default:i(()=>[a(h,{class:"bg-primary text-white text-body2",offset:[10,10]},{default:i(()=>[...t[3]||(t[3]=[d(" Validar pago ",-1)])]),_:1}),e("div",{innerHTML:c(_).processPay},null,8,fe)]),_:1},8,["onClick"])):k("",!0),e("div",ve,[a(h,{class:"bg-primary text-white text-body2",offset:[10,10]},{default:i(()=>[...t[4]||(t[4]=[d(" Información de reserva ",-1)])]),_:1}),e("div",{innerHTML:c(_).optionsBook},null,8,xe),a(E,null,{default:i(()=>[a(q,{style:{"min-width":"150px"}},{default:i(()=>[w((n(),p(M,{clickable:"",onClick:y=>m("/client/reserves/view/"+s.id)},{default:i(()=>[a(C,null,{default:i(()=>[...t[5]||(t[5]=[d("Ver detalles",-1)])]),_:1})]),_:1},8,["onClick"])),[[Q]]),s.status==2?w((n(),p(M,{key:0,clickable:"",onClick:y=>m("/admin/pay/validate/"+s.pay.id)},{default:i(()=>[a(C,null,{default:i(()=>[...t[6]||(t[6]=[d("Validar Pago",-1)])]),_:1})]),_:1},8,["onClick"])),[[Q]]):k("",!0),a(F)]),_:2},1024)]),_:2},1024)])])])])])}),128))])):(n(),r("div",ye,[...t[7]||(t[7]=[N('<div class="w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mb-6" data-v-69dda724><svg class="w-10 h-10 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-69dda724><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" data-v-69dda724></path></svg></div><h3 class="text-lg font-semibold text-gray-900 mb-2" data-v-69dda724>No tienes reservas</h3><p class="text-gray-600 text-center mb-6" data-v-69dda724>Aún no has realizado ninguna reserva de áreas comunes.</p>',3)])]))])):(n(),r("div",K,[a(z,{color:"primary",size:"7rem"})]))]),e("div",he,[a(b,{color:"primary",unelevated:"",class:"w-full mt-0 md:mx-24 createBookingButton md:w-full",style:{"border-radius":"0.5rem",width:"100%"},onClick:t[0]||(t[0]=s=>m("/client/reserves/form/add"))},{default:i(()=>[e("div",ge,[a(Y,{name:"eva-plus-outline"}),t[8]||(t[8]=e("div",{class:"q-pt-xs text-bold pl-1"}," Agregar reserva ",-1))])]),_:1})])]))}},He=H(be,[["__scopeId","data-v-69dda724"]]);export{He as default};
